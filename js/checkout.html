<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Checkout Form</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-br from-teal-100 via-orange-100 to-green-100 min-h-screen p-6 font-sans">
  <div class="max-w-2xl mx-auto bg-white p-8 rounded-xl shadow-lg border border-teal-300">
    <h2 class="text-3xl font-bold text-green-700 mb-6 text-center">üßæ Checkout</h2>

    <form id="checkout-form" class="space-y-4">
      <input type="text" id="name" placeholder="Full Name" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-green-400"/>
      <input type="email" id="email" placeholder="Email Address" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-orange-400"/>
      <input type="text" id="address" placeholder="Shipping Address" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-teal-400"/>
      <input type="text" id="card" placeholder="Credit Card Number" class="w-full px-4 py-2 border rounded focus:ring-2 focus:ring-green-400"/>

      <!-- Discount Code -->
      <div class="flex items-center space-x-2">
        <input type="text" id="discount-code" placeholder="Discount Code" class="flex-1 px-4 py-2 border rounded focus:ring-2 focus:ring-orange-400"/>
        <button type="button" onclick="applyDiscount()" class="bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 transition">Apply</button>
      </div>
      <p id="discount-message" class="text-sm mt-1 text-gray-600"></p>

      <!-- Total Price -->
      <div class="text-right text-xl font-bold text-green-700 mt-4">
        Total: ‚Çπ<span id="total">1000</span>
      </div>

      <button type="submit" class="w-full bg-teal-600 text-white py-3 rounded hover:bg-teal-700 transition">Submit Order</button>
    </form>
  </div>

  <script>
    const form = document.getElementById("checkout-form");
    const totalDisplay = document.getElementById("total");
    const discountMessage = document.getElementById("discount-message");

    let baseTotal = 1000;
    let discountApplied = false;

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const name = document.getElementById("name").value.trim();
      const email = document.getElementById("email").value.trim();
      const address = document.getElementById("address").value.trim();
      const card = document.getElementById("card").value.trim();

      if (!name || !email || !address || !card) {
        alert("Please fill out all fields.");
        return;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert("Please enter a valid email address.");
        return;
      }

      const cardRegex = /^\d{16}$/;
      if (!cardRegex.test(card)) {
        alert("Please enter a valid 16-digit credit card number.");
        return;
      }

      alert("Order submitted successfully!");
    });

    function applyDiscount() {
      const code = document.getElementById("discount-code").value.trim().toUpperCase();
      if (discountApplied) {
        discountMessage.textContent = "Discount already applied.";
        return;
      }

      if (code === "SAVE10") {
        const discountedTotal = baseTotal * 0.9;
        totalDisplay.textContent = discountedTotal.toFixed(2);
        discountMessage.textContent = "‚úÖ Discount applied: 10% off!";
        discountMessage.classList.add("text-green-600");
        discountApplied = true;
      } else {
        discountMessage.textContent = "‚ùå Invalid discount code.";
        discountMessage.classList.add("text-red-500");
      }
    }
  </script>
</body>
</html>
